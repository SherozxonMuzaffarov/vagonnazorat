<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<head>
	<title>O'zvagonta'mir</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<style>
		.table th, td {
			text-align: center;
			vertical-align: middle;
		}
	</style>
</head>

<body >
	<div class="container">
		<nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand text-primary" href="/">Asosiy</a>
			<div class="collapse navbar-collapse" id="navbarNavDropdown">
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="dropdown-item" href="/vagons">Qoldiq vagonlar</a>
					</li>
					<li class="nav-item">
						<a class="dropdown-item" href="/vagons/chiqishMalumot">187 telegramma bo'yicha ma'lumot</a>
					</li>
					<li class="nav-item">
						<div class="dropdown">
							<a class=" dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								Ta'mir bo'yicha ma'lumot
							</a>
							<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
								<a class="dropdown-item"  href="/vagons/tablesUty">O'TY rejasi bo'yicha</a>
								<a class="dropdown-item"  href="/vagons/tables">Bisnes rejasi bo'yicha</a>
							</div>
						</div>
					</li>
					<li class="nav-item">
						<div class="dropdown" style="margin-left: 20px">
							<a class="dropdown-toggle" type="button" id="dropdownMenuButtons" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								Metrologiya
							</a>
							<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
								<div class="dropdown-divider"></div>
								<a class="dropdown-item "  href="/metrologiya">Sexdagi shablonlar</a>
								<div class="dropdown-divider"></div>
								<a class="dropdown-item "  href="/metrologiyaSklad">Skladdagi shablonlar</a>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</nav>


		<div class="row justify-content-end">
			<ul class="nav">
				<li class="nav-item">
					<a th:href="@{/vagons/new}" class="nav-link" ><p class="lead">Vagon qo'shish</p></a>
				</li>
			</ul>
			<form th:action="@{/vagons/search}" method="get">
				<div class="form-group col">
					<input name="nomer" type="Integer" th:name="participant"  th:field="*{'participant'}" class="form-control"
						placeholder="Qidirish..." />
					<button class="btn btn-primary btn-block" type="submit">Qidirish</button>
				</div>
			</form>
			<form th:action="@{/vagons/filter}" method="get">
				<div class="form-group col">
				  <select class="form-control" th:name="depoNomi"  >
				  		<option th:value="'Hammasi'">O'zvagonta'mir</option>
				    	<option th:value="'VCHD-3'">VCHD-3</option>
				    	<option th:value="'VCHD-5'">VCHD-5</option>
					  	<option th:value="'VCHD-6'">VCHD-6</option>
				  </select>
				</div>
				<div class="form-group col">
				  <select class="form-control" th:name="vagonTuri"  >
				  	<option th:value="'Hammasi'">Jami</option>
				    <option th:value="'Yopiq vagon (крыт)'">Yopiq vagon (крыт)</option>
				    <option th:value="'Platforma(пф)'">Platforma(пф)</option>
				    <option th:value="'Yarim ochiq vagon(пв)'">Yarim ochiq vagon(пв)</option>
				    <option th:value="'Sisterna(цс)'">Sisterna(цс)</option>
				    <option th:value="'Boshqa turdagi(проч)'">Boshqa turdagi(проч)</option>
				  </select>
				</div>
				<div class="form-group col">
				  <select class="form-control" th:name="country"  >
				  	<option th:value="'Hammasi'">Jami</option>
				  	<option th:value="'O\'TY(ГАЖК)'">O'TY(ГАЖК)</option>
				    <option th:value="'MDH(СНГ)'">MDH(СНГ)</option>
				    <option th:value="'Sanoat(ПРОМ)'">Sanoat(ПРОМ)</option>
				  </select>
				</div>
				<button class="btn btn-primary btn-block" type="submit">Filter</button>
			 </form>
		</div>

		<table class=" table table-striped table-bordered ">
			<thead class="table-dark">
				<tr>
					<th>Vagon turlari</th>
					<th>VCHD-3</th>
					<th>VCHD-5</th>
					<th>VCHD-6</th>
					<th>Jami</th>
				</tr>
			</thead>
			<hr>
			<tbody>
				<tr>
					<th th:text="'Yopiq vagon (крыт)'"></th>
					<td th:text="${havKritiy}"></td>
					<td th:text="${andjKritiy}"></td>				
					<td th:text="${samKritiy}"></td>
					<td th:text="${samKritiy + havKritiy + andjKritiy}"></td>
				</tr>
				<tr>
					<th th:text="'Platforma(пф)'"></th>
					<td th:text="${havPlatforma}"></td>
					<td th:text="${andjPlatforma}"></td>
					<td th:text="${samPlatforma}"></td>
					<td th:text="${samPlatforma + havPlatforma + andjPlatforma}"></td>
				</tr>
				<tr>
					<th th:text="'Yarim ochiq vagon(пв)'"></th>
					<td th:text="${havPoluvagon}"></td>
					<td th:text="${andjPoluvagon}"></td>
					<td th:text="${samPoluvagon}"></td>
					<td th:text="${samPoluvagon + havPoluvagon + andjPoluvagon}"></td>
				</tr>
				<tr>
					<th th:text="'Sisterna(цс)'"></th>
					<td th:text="${havTsisterna}"></td>
					<td th:text="${andjTsisterna}"></td>
					<td th:text="${samTsisterna}"></td>
					<td th:text="${samTsisterna + havTsisterna + andjTsisterna}"></td>
				</tr>
				<tr>
					<th th:text="'Boshqa turdagi(проч)'"></th>
					<td th:text="${havBoshqa}"></td>
					<td th:text="${andjBoshqa}"></td>
					<td th:text="${samBoshqa}"></td>
					<td th:text="${samBoshqa + havBoshqa + andjBoshqa}"></td>
				</tr>
				<tr>
					<th th:text="Jami"></th>
					<td th:text="${hav}"></td>
					<td th:text="${andj}"></td>
					<td th:text="${sam}"></td>
					<td th:text="${hammasi}"></td>
				</tr>
				<tr>
					<th >Oxirgi o'zgarish vaqti</th>
					<td th:text="${havDate}"></td>
					<td th:text="${andjDate}"></td>
					<td th:text="${samDate}"></td>
					<td >
						<a th:href="@{/vagons/createTableExcel}" class=" btn btn-success btn-sm ">Yuklab olish</a>
					</td>
				</tr>
			</tbody>
		</table>

		<hr>
		
		<table class=" table table-striped table-bordered">
			<thead class="table-dark">
				<tr>
					<th>№</th>
					<th>Nomeri</th>
					<th>Vagon turi</th>
					<th>VCHD</th>
					<th>Ta'mir turi</th>
					<th>Ishlab chiqarilgan yili</th>
					<th>Depoga kelgan vaqti</th>
					<th>Saqlangan vaqti</th>
					<th>Egasi</th>
					<th>Izoh</th>
					<th>
						<a th:href="@{/vagons/createExcel}" class=" btn btn-success btn-sm ">Yuklab olish</a>
					</th>
				</tr>
			</thead>
			<hr>
			<tbody>
				<tr th:each="vagon, iStat:${vagons}">
					<td th:text="${iStat.count}"></td>
					<td th:text="${vagon.nomer}"></td>
					<td th:text="${vagon.vagonTuri}"></td>
					<td th:text="${vagon.depoNomi}"></td>
					<td th:text="${vagon.remontTuri}"></td>
					<td th:text="${vagon.ishlabChiqarilganYili}"></td>
					<td th:text="${vagon.kelganVaqti}"></td>
					<td th:text="${vagon.createdDate}"></td>
					<td th:text="${vagon.country}"></td>
					<td th:text="${vagon.izoh}"></td>
					<td>
						<a th:href="@{/vagons/edit/{id}(id=${vagon.id})}" class=" btn btn-warning btn-sm ">Tahrirlash</a>
						<a th:href="@{/vagons/delete/{id}(id=${vagon.id})}" class=" btn btn-danger btn-sm ">O'chirish</a>	
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</body>

</html>